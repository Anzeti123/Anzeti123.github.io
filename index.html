<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Terarij</title>
  <!----======== CSS ======== -->
  <link rel="stylesheet" href="styles.css">

  <!----===== Boxicons CSS ===== -->
  <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/mqtt/4.0.1/mqtt.min.js" type="text/javascript">   </script> 
 <!--<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>-->
		<script src="MQTT.JS"></script>
    <script>
      function initMQTT() {
      const client = mqtt.connect(mqttBroker, mqttOptions);

      client.on('connect', function () {
        console.log('Connected to MQTT broker');
      client.subscribe(temp_topic);
      console.log('Subscribed to topic:', temp_topic);
      client.subscribe(humidity_topic);
      console.log('Subscribed to topic:', humidity_topic);
      client.subscribe(HeaterStatus_topic);
      console.log('Subscribed to topic:', HeaterStatus_topic);
      
      });

      client.on('message', function (topic, message) {
        onMessageArrived({ destinationName: topic, payloadString: message.toString() });
      });
    }
  </script>


</head>

<body>
  
<body onload="initMQTT()">   
  
    <section class="home">
      <div class="text">Regulacija temperature v terariju</div>
      <div class="O_projektu">
          <table class="Trenutna_vred">
              <tr class="Tren_vred">
                <th>Temperatura</th>
                <th>Vlaga</th>
                <th>Grelec</th>
              </tr>
              <tr class="Tren_vred">
                <th> <div class="tabela" id="Temperature" >   </div> <p>Â°C</p> </th>
                <th> <div class="tabela" id="Humidity" > </div><p>%</p> </th>
                <th> <div class="tabela" id="HeaterStatus" > </div><p>mbar</p> </th>
              </tr>
            </table>
      </div>
    </section>
  
  </body>
</body>

</html>