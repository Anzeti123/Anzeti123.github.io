<!DOCTYPE html>
<html>
   
<head>
   <title>Vremenska postaja</title>
   <link rel="stylesheet" href="styles.css">
   
 <script src="https://cdnjs.cloudflare.com/ajax/libs/mqtt/4.0.1/mqtt.min.js" type="text/javascript">   </script> 
 <!--<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>-->
		<script src="MQTT.JS"></script>
    <script>
      function initMQTT() {
      const client = mqtt.connect(mqttBroker, mqttOptions);

      client.on('connect', function () {
        console.log('Connected to MQTT broker');
      client.subscribe(temp_topic);
      console.log('Subscribed to topic:', temp_topic);
      client.subscribe(humidity_topic);
      console.log('Subscribed to topic:', humidity_topic);
      client.subscribe(pressure_topic);
      console.log('Subscribed to topic:', pressure_topic);
      client.subscribe(UVlight_topic);
      console.log('Subscribed to topic:', UVlight_topic);
      client.subscribe(brightness_topic);
      console.log('Subscribed to topic:', brightness_topic);
      client.subscribe(wind_speed_topic);
      console.log('Subscribed to topic:', wind_speed_topic);
      client.subscribe(wind_direction_topic);
      console.log('Subscribed to topic:', wind_direction_topic);
      });

      client.on('message', function (topic, message) {
        onMessageArrived({ destinationName: topic, payloadString: message.toString() });
      });
    }
    </script>

</head>

<body onload="initMQTT()">   
   
    <header> 
    <nav>  
      <ul class="naslovi">
         <li class="naslovi"><a href="index.html"><b>O projektu</b></a></a></li>
         <li class="naslovi"><a href="Nadzorna_plošča.html"><b>Trenutna vrednost</b></a></a></li>
         <li class="naslovi"><a href="test_page.html"><b>Zgodovina meritev</b></a></a></li>
         <li class="naslovi"><a href="radarska_slika.html"><b>Radarska slika</b></a></a></li>
      </ul> 
    </nav>  
    <h1>Trenutna vrednost</h1>    
    </header>
    
    <table>
      <tr>
        <td>  Temperatura</td>
        <td>  Vlažnost</td>
        <td> Tlak</td>
        <td>  UV žarki</td>
        <td> Osvetljenost</td>
        <td> Hitrost vetra</td>
        <td> Smer vetra </td>
      </tr>
      <tr>
        <td> <div class="tabela" id="WS_temp" >   </div> <p>°C</p> </td>
        <td> <div class="tabela" id="WS_humidity" > </div><p>%</p> </td>
        <td> <div class="tabela" id="WS_pressure" > </div> <p>mBar</p></td>
        <td> <div class="tabela" id="WS_UVlight" > </div> <p>%</p></td>
        <td> <div class="tabela" id="WS_brightness" > </div> <p>lux</p></td>
        <td> <div class="tabela" id="WS_wind_speed" > </div> <p>km/h</p></td>
        <td> <div class="tabela" id="WS_wind_direction" > </div> </td>
      </tr>
    </table>
  
    
  <!--
    <script>
      function getInputValue() {
        // Selecting the input element and get its value 
        var x = document.getElementById("zeljena_temperatura").value;
        var y = document.getElementById("zeljena_vlaga").value;
        // Displaying the value
        send_message(x, 0, temp_topic);
        send_message(y, 0, humi_topic);
      }
    </script>-->
   

    <p> <div class="graf"  id="container"> </p></div> </td> 
    <!--<footer>
      Copyright © Anzeti
  </footer>-->
</body>
</html>